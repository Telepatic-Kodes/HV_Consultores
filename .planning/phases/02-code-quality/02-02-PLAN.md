---
phase: 02-code-quality
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
autonomous: true

must_haves:
  truths:
    - "@ts-nocheck removed from all Server Action files"
    - "All action files pass TypeScript type checking"
    - "Zero `any` types in core action files"
---

<objective>
Remove @ts-nocheck from Server Action files and fix exposed type errors with proper interfaces.

Purpose: Server Actions are the data layer â€” they must be properly typed to prevent runtime errors.
Output: All action files under src/app/dashboard/*/actions.ts pass strict TypeScript checking.
</objective>

<tasks>

<task type="auto">
  <name>Create shared Convex type helpers</name>
  <action>
Create src/types/convex.ts with:
- Re-export Id type from convex
- Helper type for converting Convex documents to app types
- Common interfaces (ConvexDocument, etc.)
This provides proper types so action files don't need `as any` casts.
  </action>
</task>

<task type="auto">
  <name>Fix types in core action files (dashboard, bots, clientes, documentos, f29, sii)</name>
  <action>
For each file: remove @ts-nocheck, fix all type errors, replace `as any` with proper types.
Files: dashboard/actions.ts, bots/actions.ts, clientes/actions.ts, documentos/actions.ts, f29/actions.ts, sii/actions.ts, reportes/actions.ts
  </action>
</task>

<task type="auto">
  <name>Fix types in secondary action files (chat, clasificador, configuracion, bancos)</name>
  <action>
Same approach for the remaining action files migrated in Plan 01-05.
  </action>
</task>

</tasks>

# Plan 04-01: Dashboard Responsive Sidebar + Layout Fixes

## Phase: 4 — Dashboard Polish
## Requirements: UXDB-01, UXDB-02, UXDB-03, UXDB-04, UXDB-05

## Goal
Dashboard sidebar works on mobile with drawer behavior, content areas are responsive.

## Tasks Completed

### Task 1: Create responsive sidebar system
- Created `SidebarContext.tsx` — shared state for mobile open/collapsed
- `SidebarProvider` wraps dashboard layout
- `useSidebar()` hook used by Sidebar and TopNav

### Task 2: Refactor Sidebar for mobile drawer
- Desktop: hidden `md:block` with fixed positioning (unchanged behavior)
- Mobile: slide-in drawer from left with overlay backdrop
- Close button in mobile header
- Navigation clicks auto-close mobile sidebar
- Collapse toggle hidden on mobile (not needed)

### Task 3: Update TopNav with hamburger
- Added `Menu` icon button visible on `md:hidden`
- Calls `toggleMobile()` from SidebarContext
- Responsive padding: `px-4 md:px-8`
- Subtitle hidden on small screens

### Task 4: Fix dashboard layout responsive padding
- Changed `pl-64` → `md:pl-64` (no padding on mobile = full width)
- Wrapped in `SidebarProvider`

### Task 5: Fix responsive issues found by page audit
- `documentos/page.tsx`: `h-64` → `py-24` (responsive loader height)
- `bancos/page.tsx`: `h-96` → `py-24` (responsive loader height)
- `analytics/page.tsx`: `grid-cols-7` → `grid-cols-3 sm:grid-cols-4 md:grid-cols-7` (tab overflow fix)
- `dashboard/page.tsx`: `p-8` → `p-4 md:p-8` (mobile padding)

## Files Changed
- NEW: `src/components/dashboard/SidebarContext.tsx`
- MOD: `src/components/dashboard/Sidebar.tsx`
- MOD: `src/components/dashboard/TopNav.tsx`
- MOD: `src/components/dashboard/index.ts`
- MOD: `src/app/dashboard/layout.tsx`
- MOD: `src/app/dashboard/page.tsx`
- MOD: `src/app/dashboard/documentos/page.tsx`
- MOD: `src/app/dashboard/bancos/page.tsx`
- MOD: `src/app/dashboard/analytics/page.tsx`

## Verification
- `npx tsc --noEmit` → 0 errors
- `npm run build` → clean pass
